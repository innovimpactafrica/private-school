<div class="min-h-screen bg-surface-100 flex items-center justify-center p-4">
    <div class="w-full max-w-7xl flex bg-white rounded-2xl overflow-hidden">
        <!-- Image gauche - même que login et forgot-password -->
        <div class="hidden md:flex md:w-1/2 bg-cover bg-center animate-fade-in"
            style="background-image: url('image.png');">
            <!-- Pas d'overlay ni de texte - l'image parle d'elle-même -->
        </div>

        <!-- Section droite avec formulaire de réinitialisation -->
        <div class="flex flex-1 items-center justify-center p-8 md:p-20 animate-fade-in">
            <div class="w-full max-w-md">
                <!-- Logo -->
                <div class="text-center mb-2">
                    <img src="logo.png" alt="PST Logo" class="mx-auto w-50 h-40 object-contain animate-bounce-gentle" />
                </div>

                <h2 class="text-3xl font-semibold mb-4 text-gray-800 text-center animate-slide-down">Réinitialisez votre
                    mot de passe</h2>
                <p class="text-gray-500 mb-6 text-center animate-slide-down" style="animation-delay: 0.1s;">
                    Nous vous enverrons un code de réinitialisation à l'adresse email<br>
                    ou au numéro de téléphone associé à votre compte.
                </p>

                <form [formGroup]="resetForm" (ngSubmit)="onSubmit()" novalidate class="animate-scale-in"
                    style="animation-delay: 0.2s;">

                    <!-- Champ Nouveau mot de passe -->
                    <div class="mb-6">
                        <label class="block text-gray-700 font-medium mb-2">
                            Nouveau mot de passe
                        </label>
                        <div class="relative">
                            <input [type]="showNewPassword ? 'text' : 'password'" formControlName="newPassword"
                                placeholder="Entrez un nouveau mot de passe sécurisé"
                                class="w-full pl-4 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent focus:bg-white transition-all duration-200 ease-in-out hover:border-primary-300 hover:bg-white placeholder:text-gray-400 text-gray-700 text-sm" />

                            <!-- Bouton toggle visibilité nouveau mot de passe -->
                            <button type="button" (click)="toggleNewPasswordVisibility()"
                                class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-200">
                                <!-- SVG Œil ouvert -->
                                <svg *ngIf="!showNewPassword" width="20" height="20" viewBox="0 0 20 20" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M1.11475 9.52C1.88475 7.835 3.31975 6.47 5.07475 5.745C6.82975 5.02 8.78975 5.02 10.5447 5.745C12.2997 6.47 13.7347 7.835 14.5047 9.52C14.8297 10.175 14.8297 10.825 14.5047 11.48C13.7347 13.165 12.2997 14.53 10.5447 15.255C8.78975 15.98 6.82975 15.98 5.07475 15.255C3.31975 14.53 1.88475 13.165 1.11475 11.48C0.789746 10.825 0.789746 10.175 1.11475 9.52Z"
                                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                    <path
                                        d="M10 12.5C11.3807 12.5 12.5 11.3807 12.5 10C12.5 8.61929 11.3807 7.5 10 7.5C8.61929 7.5 7.5 8.61929 7.5 10C7.5 11.3807 8.61929 12.5 10 12.5Z"
                                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </svg>

                                <!-- SVG Œil fermé -->
                                <svg *ngIf="showNewPassword" width="20" height="20" viewBox="0 0 20 20" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M11.7678 8.23223C12.2366 8.70107 12.5 9.33696 12.5 10.0252C12.5 10.7134 12.2366 11.3493 11.7678 11.8182C11.2989 12.287 10.663 12.5504 9.97477 12.5504C9.28654 12.5504 8.65065 12.287 8.18181 11.8182M11.7678 8.23223L8.18181 11.8182M11.7678 8.23223C11.2989 7.76339 10.663 7.5 9.97477 7.5C9.28654 7.5 8.65065 7.76339 8.18181 8.23223C7.71297 8.70107 7.44958 9.33696 7.44958 10.0252C7.44958 10.7134 7.71297 11.3493 8.18181 11.8182"
                                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                    <path d="M1.16699 1.66663L18.3337 18.8333" stroke="currentColor" stroke-width="1.5"
                                        stroke-linecap="round" stroke-linejoin="round" />
                                    <path
                                        d="M14.95 14.95C13.5244 15.9464 11.8045 16.4956 10.0373 16.5C5.21233 16.5 1.53733 13.125 1.53733 10C1.53733 8.77167 2.31233 7.01 4.04998 5.05"
                                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                    <path
                                        d="M6.65039 3.5C7.74539 3.175 8.87039 3 10.0379 3C14.8629 3 18.5379 6.375 18.5379 9.5C18.5379 10.2633 18.1879 11.2933 17.3254 12.4083"
                                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Champ Confirmation du mot de passe -->
                    <div class="mb-6">
                        <label class="block text-gray-700 font-medium mb-2">
                            Confirmation
                        </label>
                        <div class="relative">
                            <input [type]="showConfirmPassword ? 'text' : 'password'" formControlName="confirmPassword"
                                placeholder="Confirmez le nouveau mot de passe"
                                class="w-full pl-4 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent focus:bg-white transition-all duration-200 ease-in-out hover:border-primary-300 hover:bg-white placeholder:text-gray-400 text-gray-700 text-sm" />

                            <!-- Bouton toggle visibilité confirmation mot de passe -->
                            <button type="button" (click)="toggleConfirmPasswordVisibility()"
                                class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-200">
                                <!-- SVG Œil ouvert -->
                                <svg *ngIf="!showConfirmPassword" width="20" height="20" viewBox="0 0 20 20" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M1.11475 9.52C1.88475 7.835 3.31975 6.47 5.07475 5.745C6.82975 5.02 8.78975 5.02 10.5447 5.745C12.2997 6.47 13.7347 7.835 14.5047 9.52C14.8297 10.175 14.8297 10.825 14.5047 11.48C13.7347 13.165 12.2997 14.53 10.5447 15.255C8.78975 15.98 6.82975 15.98 5.07475 15.255C3.31975 14.53 1.88475 13.165 1.11475 11.48C0.789746 10.825 0.789746 10.175 1.11475 9.52Z"
                                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                    <path
                                        d="M10 12.5C11.3807 12.5 12.5 11.3807 12.5 10C12.5 8.61929 11.3807 7.5 10 7.5C8.61929 7.5 7.5 8.61929 7.5 10C7.5 11.3807 8.61929 12.5 10 12.5Z"
                                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </svg>

                                <!-- SVG Œil fermé -->
                                <svg *ngIf="showConfirmPassword" width="20" height="20" viewBox="0 0 20 20" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M11.7678 8.23223C12.2366 8.70107 12.5 9.33696 12.5 10.0252C12.5 10.7134 12.2366 11.3493 11.7678 11.8182C11.2989 12.287 10.663 12.5504 9.97477 12.5504C9.28654 12.5504 8.65065 12.287 8.18181 11.8182M11.7678 8.23223L8.18181 11.8182M11.7678 8.23223C11.2989 7.76339 10.663 7.5 9.97477 7.5C9.28654 7.5 8.65065 7.76339 8.18181 8.23223C7.71297 8.70107 7.44958 9.33696 7.44958 10.0252C7.44958 10.7134 7.71297 11.3493 8.18181 11.8182"
                                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                    <path d="M1.16699 1.66663L18.3337 18.8333" stroke="currentColor" stroke-width="1.5"
                                        stroke-linecap="round" stroke-linejoin="round" />
                                    <path
                                        d="M14.95 14.95C13.5244 15.9464 11.8045 16.4956 10.0373 16.5C5.21233 16.5 1.53733 13.125 1.53733 10C1.53733 8.77167 2.31233 7.01 4.04998 5.05"
                                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                    <path
                                        d="M6.65039 3.5C7.74539 3.175 8.87039 3 10.0379 3C14.8629 3 18.5379 6.375 18.5379 9.5C18.5379 10.2633 18.1879 11.2933 17.3254 12.4083"
                                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Bouton Réinitialiser -->
                    <button type="submit" class="w-full bg-primary-500 text-white py-3 rounded-lg text-base mb-4
                            hover:bg-primary-600 active:bg-primary-700
                            transition-all duration-200 ease-in-out
                            hover:shadow-medium hover:-translate-y-0.5
                            active:translate-y-0 active:shadow-soft
                            focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2
                            disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:translate-y-0"
                        [disabled]="isLoading">
                        <span *ngIf="!isLoading" class="animate-fade-in">Réinitialiser</span>
                        <span *ngIf="isLoading" class="flex items-center justify-center animate-pulse">
                            <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg"
                                fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                    stroke-width="4"></circle>
                                <path class="opacity-75" fill="currentColor"
                                    d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                                </path>
                            </svg>
                            Réinitialisation...
                        </span>
                    </button>

                    <!-- Retour à la connexion -->
                    <div class="text-center">
                        <a routerLink="/login"
                            class="text-primary-600 hover:text-primary-700 text-sm font-medium hover:underline transition-all duration-200 ease-in-out">
                            Retour à la connexion
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>